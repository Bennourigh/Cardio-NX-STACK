<div class="container">
  <p-card>
    <ng-template pTemplate="header">
      <span>{{ deviceId }}</span>
    </ng-template>

    <ng-template pTemplate="content">
      <p-table [value]="dataSource" [paginator]="true" [rows]="10" [rowsPerPageOptions]="[5, 10, 20, 30]" sortMode="multiple">
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="deviceId"> Device SN <p-sortIcon field="deviceId"></p-sortIcon></th>
            <th pSortableColumn="deviceBatteryStatus"> Device Battery Status <p-sortIcon field="deviceBatteryStatus"></p-sortIcon></th>
            <th pSortableColumn="datePerformed"> Date of Performance <p-sortIcon field="datePerformed"></p-sortIcon></th>
            <th pSortableColumn="electrodesDlc"> Electrodes DLC <p-sortIcon field="electrodesDlc"></p-sortIcon></th>
            <th pSortableColumn="eventStatus"> Battery Level <p-sortIcon field="eventStatus"></p-sortIcon></th>
            <th> Confirm </th>
          </tr>
        </ng-template>

        <ng-template pTemplate="body" let-element>
          <tr>
            <td>{{ element.deviceId }}</td>
            <td>{{ element.deviceBatteryStatus }}</td>
            <td>{{ element.datePerformed }}</td>
            <td>{{ element.electrodesDlc }}</td>
            <td>{{ element.batteryLevel }}</td>
            <td>
              @if (!element.eventStatus) {
                <p-button label="Confirm" icon="pi pi-check" class="p-button-raised p-button-primary" (click)="toConfirm(element)"></p-button>
              }
            </td>
          </tr>
        </ng-template>
      </p-table>
    </ng-template>
  </p-card>
</div>
